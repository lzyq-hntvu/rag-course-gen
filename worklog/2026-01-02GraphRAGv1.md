ä»Šå¤©æ™šä¸Šçš„ç›®æ ‡ï¼šç»§ç»­å¼€å‘rag-course-gené¡¹ç›®ï¼Œç”¨ Python çš„ NetworkX åšä¸€ä¸ªâ€œå†…å­˜çº§ GraphRAGâ€
1.ä½ é¦–å…ˆåº”å›é¡¾rag-course-gené¡¹ç›®æ˜¯ä»€ä¹ˆ
2.æ ¸å¿ƒç—›ç‚¹ï¼šå•çº¯çš„ Vector Searchï¼ˆå‘é‡æ£€ç´¢ï¼‰éš¾ä»¥å¤„ç†å¤šè·³æ¨ç†ï¼ˆMulti-hop Reasoningï¼‰ã€‚ ä¾‹å­ï¼š JD è¯´â€œä¼šé… H3C äº¤æ¢æœºâ€ï¼Œå›½æ ‡é‡Œåªæœ‰â€œé…ç½®ç½‘ç»œè®¾å¤‡â€ã€‚å‘é‡è·ç¦»å¯èƒ½ä¸å¤Ÿè¿‘ï¼Œä½†åœ¨å›¾è°±é‡Œå®ƒä»¬é€šè¿‡ is_a æˆ– instance_of å¼ºå…³è”ã€‚GraphRAG èƒ½æŠŠè¿™ä¸ªéšæ€§è¯æ®â€œæâ€å‡ºæ¥ã€‚
3.å»ºè®®ä½ åˆ†ä¸‰æ­¥å®Œæˆï¼š
ï¼ˆ1ï¼‰é‡æ„æ•°æ®å…¥åº“ (Graph-Native Ingestion)
ï¼ˆ2ï¼‰æ„å»ºâ€œå›¾è°±å¢å¼ºæ£€ç´¢å™¨â€ (Graph-Enhanced Retriever)
ï¼ˆ3ï¼‰ç”Ÿæˆä¸å®¡è®¡ (Generator & Auditor) - ä¿æŒä¸å˜
ä½ è§‰å¾—æ€ä¹ˆæ ·ï¼Ÿå¯ä»¥æå‡ºåˆç†åŒ–å»ºè®®
4.å…ˆä¸è¦å¿™ç€å¼€å§‹å†™ä»£ç ï¼Œæˆ‘ä»¬è®¨è®ºå……åˆ†äº†ï¼Œå®Œæˆè§„åˆ’ä»¥åå†å¼€å§‹å¹²

Phase 1 å®Œæˆï¼èŒæ•™èƒ½åŠ›å›¾è°±æ„å»ºä¸å¯è§†åŒ–æ¨¡å—

  æˆ‘å·²ç»å®Œæˆäº†Phase 1: å›¾è°±æ„å»ºä¸å¯è§†åŒ–çš„æ‰€æœ‰ä»£ç ã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†æ€»ç»“ï¼š

  ---
  ğŸ“ æ–°å¢æ–‡ä»¶ç»“æ„

  src/graph/
  â”œâ”€â”€ __init__.py           # æ¨¡å—å¯¼å‡º
  â”œâ”€â”€ schema.py             # èŒæ•™èƒ½åŠ›å›¾è°±æ•°æ®æ¨¡å‹ï¼ˆ4ç§å®ä½“ + 3ç§å…³ç³»ï¼‰
  â”œâ”€â”€ extractor.py          # LLMå®ä½“æŠ½å–å™¨ï¼ˆFew-Shot Promptingï¼‰
  â”œâ”€â”€ graph_builder.py      # NetworkXå›¾è°±æ„å»ºå™¨
  â””â”€â”€ visualize.py          # å¯è§†åŒ–æ¼”ç¤ºè„šæœ¬

  data/mock/
  â”œâ”€â”€ sample_jds.json       # 5æ¡æ¨¡æ‹ŸJDæ•°æ®
  â””â”€â”€ sample_standard.txt   # 1æ¡å›½æ ‡æ•°æ®

  ---
  ğŸ¯ æ ¸å¿ƒè®¾è®¡

  Schemaï¼ˆschema.pyï¼‰ï¼š
  | å®ä½“          | è¯´æ˜         | å…³é”®å±æ€§                                            |
  |---------------|--------------|-----------------------------------------------------|
  | Standard_Task | å…¸å‹å·¥ä½œä»»åŠ¡ | task_code, knowledge_points, skill_points, èŒä¸šç­‰çº§ |
  | Real_Project  | çœŸå®é¡¹ç›®è½½ä½“ | company_name, project_context, difficulty_level     |
  | Action_Skill  | è¡ŒåŠ¨æŠ€èƒ½     | skill_category, proficiency_level, prerequisites    |
  | Tool          | å·¥å…·/è®¾å¤‡    | tool_category, vendor, version                      |

  å…³ç³»ï¼š
  - composed_of: Real_Project â†’ Action_Skill
  - maps_to: Action_Skill â†’ Standard_Taskï¼ˆæ ¸å¿ƒæ¨ç†è¾¹ï¼‰
  - operates: Action_Skill â†’ Tool

  ---
  ğŸ”§ åŠŸèƒ½ç‰¹æ€§

  graph_builder.py æä¾›çš„èƒ½åŠ›ï¼š
  1. å›¾è°±æ„å»ºï¼šadd_node(), add_edge(), add_entities_from_extractor()
  2. å›¾è°±æŸ¥è¯¢ï¼š
    - get_nodes_by_type() - æŒ‰ç±»å‹è·å–èŠ‚ç‚¹
    - get_neighbors() - è·å–é‚»å±…èŠ‚ç‚¹
    - find_shortest_path() - æœ€çŸ­è·¯å¾„æŸ¥è¯¢
  3. å›¾è°±æ‰©å±•ï¼šexpand_by_relation() - æŒ‡å®šå…³ç³»è¿›è¡Œå¤šè·³æ‰©å±•
  4. å›¾è°±åˆ†æï¼šcompute_pagerank() - è®¡ç®—èŠ‚ç‚¹é‡è¦æ€§
  5. åºåˆ—åŒ–ï¼šsave(), load(), save_gexf()ï¼ˆå¯ç”¨Gephiæ‰“å¼€ï¼‰

  ---
  ğŸ§ª Mockæ•°æ®è¯´æ˜

  5æ¡JDï¼ˆdata/mock/sample_jds.jsonï¼‰ï¼š
  - ç½‘ç»œå®‰å…¨å·¥ç¨‹å¸ˆï¼ˆäº’è”ç½‘ï¼‰
  - ç½‘ç»œè¿ç»´å·¥ç¨‹å¸ˆï¼ˆé€šä¿¡ï¼‰
  - äº‘è®¡ç®—ç½‘ç»œå·¥ç¨‹å¸ˆï¼ˆäº‘æœåŠ¡ï¼‰
  - å·¥ä¸šäº’è”ç½‘å®‰å…¨å·¥ç¨‹å¸ˆï¼ˆå·¥ä¸šï¼‰
  - ç½‘ç»œå®‰å…¨è¿ç»´å·¥ç¨‹å¸ˆï¼ˆåŒ»ç–—ï¼‰

  1æ¡å›½æ ‡ï¼ˆdata/mock/sample_standard.txtï¼‰ï¼š
  - ã€Šç½‘ç»œä¸ä¿¡æ¯å®‰å…¨ç®¡ç†å‘˜ã€‹èŠ‚é€‰ï¼ŒåŒ…å«4ä¸ªèŒä¸šåŠŸèƒ½æ¨¡å—

  ---
  ğŸš€ ä½¿ç”¨æ–¹æ³•

  # è®¾ç½®APIå¯†é’¥
  export ANTHROPIC_API_KEY="your-key-here"

  # è¿è¡Œå¯è§†åŒ–æ¼”ç¤º
  cd /home/huyuming/projects/rag-course-gen
  python src/graph/visualize.py

  è¾“å‡ºï¼š
  - data/output/graph_visualization.png - å›¾è°±å¯è§†åŒ–
  - data/output/graph.pkl - åºåˆ—åŒ–çš„å›¾è°±æ–‡ä»¶

  ---
  â“ å¾…è®¨è®ºçš„é—®é¢˜

  åœ¨è¿›å…¥ Phase 2ï¼ˆå›¾è°±å¢å¼ºæ£€ç´¢ï¼‰ ä¹‹å‰ï¼Œæœ‰å‡ ä¸ªé—®é¢˜éœ€è¦æ˜ç¡®ï¼š

  1. APIå¯†é’¥ï¼šä½ æœ‰Anthropic APIå¯†é’¥å—ï¼Ÿè¿˜æ˜¯éœ€è¦æˆ‘è°ƒæ•´ä»£ç æ”¯æŒå…¶ä»–LLMï¼ˆå¦‚é€šè¿‡OpenAIå…¼å®¹æ¥å£ï¼‰ï¼Ÿ
  2. Phase 2çš„å…·ä½“å®ç°ï¼š
    - å‘é‡æ£€ç´¢éƒ¨åˆ†ï¼Œæ˜¯å¤ç”¨ç°æœ‰çš„ test_retrieve.pyï¼Œè¿˜æ˜¯é‡æ„ï¼Ÿ
    - èåˆæ‰“åˆ†ç­–ç•¥ï¼šå‘é‡ç›¸ä¼¼åº¦å’Œå›¾è·ç¦»å¦‚ä½•åŠ æƒï¼Ÿï¼ˆå¦‚ final_score = 0.6 * vector_score + 0.4 * graph_scoreï¼‰
  3. æ˜¯å¦éœ€è¦Phase 3ï¼šGeneratorå’ŒAuditoræ¨¡å—è¦ç°åœ¨ä¸€èµ·è§„åˆ’ï¼Œè¿˜æ˜¯ç­‰Phase 2å®Œæˆåå†è¯´ï¼Ÿ

  è¯·å‘Šè¯‰æˆ‘ä½ çš„æƒ³æ³•ï¼Œæˆ‘ä»¬ç»§ç»­æ¨è¿›ï¼